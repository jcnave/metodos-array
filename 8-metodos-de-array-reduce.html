<script>
  console.warn("colaboradores");
  const colaboradores = [
    { name: "Juca", idade: 25, cargo: "front-end" },
    { name: "Márcia", idade: 23, cargo: "back-end" },
    { name: "Vitória", idade: 28, cargo: "designer" },
    { name: "Fernando", idade: 19, cargo: "estagiario" },
    { name: "Fabiane", idade: 25, cargo: "back-end" },
    { name: "Jéssica", idade: 23, cargo: "front-end" },
  ];
  console.log(colaboradores);

  console.warn("installments");
  const installments = [
    { installment_number: 1, value: 123.45, status: "Pago" },
    { installment_number: 2, value: 139.88, status: "Pago" },
    { installment_number: 3, value: 123.45, status: "Pago" },
    { installment_number: 4, value: 182.37, status: "Aberto" },
    { installment_number: 5, value: 133.93, status: "Aberto" },
  ];
  console.log(installments);

  const valuesSum = (accumulator, currentValue) => accumulator + currentValue;

  console.warn(
    "B) Utilizando o array colaboradores fornecido anteriormente realize os seguintes exercícios:"
  );
  console.warn(
    "1. Utilizando a função reduce imprima a soma da idade de todos os colaboradores."
  );
  const agesCollaborators = [];
  colaboradores.map((item) => agesCollaborators.push(item.idade));
  console.log(agesCollaborators.reduce(valuesSum));

  console.warn(
    "2. Utilizando a função reduce crie e imprima um objeto que possui a quantidade de colaboradores em cada cargo. Saída esperada: { 'front-end': 2, 'back-end': 2, designer: 1, estagiario: 1 }."
  );
  const cargos = [];
  const quantCargos = [];
  colaboradores.map((item) => cargos.push(item.cargo));
  const countOccurrences = (array, value) =>
    array.reduce((acc, cur) => (cur === value ? acc + 1 : acc), 0);
  const reducerCargos = (accumulator, currentValue) => {
    if (!quantCargos.includes(currentValue)) {
      quantCargos[currentValue] = countOccurrences(cargos, currentValue);
    }
  };
  cargos.reduce(reducerCargos);
  console.log(Object.assign({}, quantCargos));

  console.warn(
    "C) Utilizando o array installments fornecido anteriormente realize o seguinte exercício:"
  );
  console.warn(
    "1. Utilizando a função reduce imprima o valor total das parcelas."
  );
  const plots = [];
  installments.map((item) => plots.push(item.value));
  console.log(plots.reduce(valuesSum).toFixed(2));

  console.warn(
    "2. Utilizando a função reduce crie e imprima um objeto que possui o valor total em aberto e já pago. Saída esperada: { total_paid: 386.78, total_open: 316.3 }."
  );
  const totalValues = {
    total_paid: 0,
    total_open: 0,
  };
  const valuesPaid = [];
  const valuesOpen = [];
  installments.map((item) => {
    item.status == "Pago"
      ? valuesPaid.push(item.value)
      : valuesOpen.push(item.value);
  });
  totalValues.total_paid = valuesPaid.reduce(valuesSum);
  totalValues.total_open = valuesOpen.reduce(valuesSum);
  console.log(totalValues);
</script>
